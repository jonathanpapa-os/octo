<%= form_with(model: tenant) do |form| %>
  <% if tenant.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(tenant.errors.count, "error") %> prohibited this tenant from being saved:</h2>

      <ul>
        <% tenant.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <% if current_user.superadmin_role == TRUE %>

  <table class="min-w-full leading-normal border-0">
    <tbody>
        <tr>
            <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-left">Company Name</p> </td>
            <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-right"><%= form.text_field :company_name, required: true, class:"bg-gray-100 p-2 rounded focus:outline-none focus:ring focus:border-purple-300", placeholder:"Company Name" %></p> </td>
        </tr>
        <tr>
            <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-left">Description</p> </td>
            <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-right"><%= form.text_field :company_description, required: true, rows: 1, class:"bg-gray-100 p-2 rounded focus:outline-none focus:ring focus:border-purple-300", placeholder:"Description" %></p> </td>
        </tr>
        <tr>
            <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-left">Booking Page URL</p> </td>
            <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-right"><%= form.text_field :url, required: true, class:"bg-gray-100 p-2 rounded focus:outline-none focus:ring focus:border-purple-300", placeholder:"Customized Booking Page URL" %> </td>
        </tr>
        <tr>
            <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-left">Email Address</p> </td>
            <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-right"><%= form.text_field :email, autofocus: true, autocomplete: "email", class:"bg-gray-100 p-2 rounded focus:outline-none focus:ring focus:border-purple-300", placeholder:"Email" %></p> </td>
        </tr>
    </tbody>
  </table>


  <% else %>
    <% if current_user.supervisor_role == TRUE %>

    <table class="min-w-full leading-normal">
      <tbody>
          <tr>
              <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-left">Company Name</p> </td>
              <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-right"><%= form.text_field :company_name, required: true, class:"bg-gray-100 p-2 rounded focus:outline-none focus:ring focus:border-purple-300", placeholder:"Company Name" %></p> </td>
          </tr>
          <tr>
              <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-left">Description</p> </td>
              <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-right"><%= form.text_field :company_description, required: true, rows: 1, class:"bg-gray-100 p-2 rounded focus:outline-none focus:ring focus:border-purple-300", placeholder:"Description" %></p> </td>
          </tr>
          <tr>
              <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-left">Booking Page URL</p> </td>
              <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-right"><%= form.text_field :url, required: true, :readonly => true, class:"bg-gray-100 p-2 rounded focus:outline-none focus:ring focus:border-purple-300", placeholder:"Customized Booking Page URL" %> </td>
          </tr>
          <tr>
              <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-left">Email Address</p> </td>
              <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm"> <p class="text-gray-900 whitespace-no-wrap text-right"><%= form.text_field :email, autofocus: true, autocomplete: "email", :readonly => true, class:"bg-gray-100 p-2 rounded focus:outline-none focus:ring focus:border-purple-300", placeholder:"Email" %></p> </td>
          </tr>
      </tbody>
    </table>

    <% end %>
  <% end %>

  <div class="actions bg-white">
    <b onclick="submitFunction()"><%= form.submit class:"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded m-2" %></b>
    </div>
<% end %>

<script>
  function submitFunction() {
    window.onbeforeunload = null;
  };
</script>
